benchmark {
  name = "workload-gen-7"
  description = "Workload generator for performance model."
  job {
    factory {
      class = "org.pathirage.fdbench.yarn.YarnJobFactory"
    }
  }
  factory.class = "org.pathirage.fdbench.samza.SamzaE2ELatencyBenchmarkFactory"
  parallelism = 1
}

metrics {
  reporters = "kafka"
  reporter {
    kafka {
      factory.class = "org.pathirage.fdbench.metrics.KafkaMetricsSnapshotReporterFactory"
      kafka.zookeeper = "localhost:2181"
      kafka.brokers = "localhost:9092"
      reporting.interval = 20
    }
  }
}

yarn {
  package {
    path = "file://${basedir}/target/${project.artifactId}-${pom.version}-dist.tar.gz"
  }
}


kafka {
  zookeeper {
    connect = "localhost:2181"
  }
  brokers = "localhost:9092"
}

samza {
  e2elatency {
    source.topic {
      name = "source3"
      partitions = 1
      replication = 1
    }

    result.topic {
      name = "result3"
      partitions = 1
      replication = 1
    }

    message.rate = 300
  }
}

